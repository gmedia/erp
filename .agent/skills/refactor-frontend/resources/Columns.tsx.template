'use client';

import { ColumnDef } from '@tanstack/react-table';
import {
    createActionsColumn,
    createDateColumn,
    createSelectColumn,
    createSortingHeader,
    createTextColumn,
} from '@/utils/columns';

// Import tipe entity
import { {{Feature}} } from '@/types/entity';
// atau: import { {{Feature}} } from '@/types/{{feature}}';

/**
 * {{Feature}} Table Columns
 *
 * ATURAN KONSISTENSI (wajib diikuti):
 *
 * 1. WAJIB gunakan createSelectColumn() — JANGAN buat custom select
 *    createSelectColumn() sengaja TIDAK punya header checkbox
 *
 * 2. WAJIB gunakan createActionsColumn() — JANGAN buat custom icon buttons
 *    createActionsColumn() menggunakan dropdown menu (View, Edit, Delete)
 *
 * 3. Kolom sortable → gunakan createTextColumn() (default sortable)
 *    atau createSortingHeader() untuk custom cell renderer
 *
 * 4. Kolom non-sortable → set enableSorting: false
 *
 * 5. Pastikan SETIAP kolom sortable didukung oleh backend:
 *    - Cek validation: app/Http/Requests/{Module}/Index{Entity}Request.php → sort_by
 *    - Cek logic: app/Services/{Module}FilterService.php atau Action
 */

export const {{feature}}Columns: ColumnDef<{{Feature}}>[] = [
    // 1. Select checkbox (NO header checkbox)
    createSelectColumn<{{Feature}}>(),

    // 2. Kolom teks sortable
    createTextColumn<{{Feature}}>({ accessorKey: 'name', label: 'Name' }),

    // 3. Kolom relasi sortable (custom cell renderer)
    // {
    //     accessorKey: 'department',
    //     ...createSortingHeader('Department'),
    //     cell: ({ row }) => {
    //         const val = row.original.department;
    //         return <div>{typeof val === 'object' ? val.name : val}</div>;
    //     },
    // },

    // 4. Kolom non-sortable
    // createTextColumn<{{Feature}}>({
    //     accessorKey: 'description',
    //     label: 'Description',
    //     enableSorting: false,
    // }),

    // 5. Kolom tanggal sortable
    createDateColumn<{{Feature}}>({ accessorKey: 'created_at', label: 'Created At' }),
    createDateColumn<{{Feature}}>({ accessorKey: 'updated_at', label: 'Updated At' }),

    // 6. Actions dropdown (View, Edit, Delete)
    createActionsColumn<{{Feature}}>(),

    // Jika butuh view navigasi ke halaman detail (bukan dialog):
    // createActionsColumn<{{Feature}}>({
    //     viewPath: (item) => `/{{features}}/${item.ulid}`,
    // }),
];
